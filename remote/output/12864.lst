C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 1   


C51 COMPILER V9.52.0.0, COMPILATION OF MODULE 12864
OBJECT MODULE PLACED IN .\output\12864.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE src\12864.c LARGE OMF2 BROWSE DEBUG PRINT(.\output\12864.lst) OBJECT(.\o
                    -utput\12864.obj)

line level    source

   1          
   2          #include"config.h"
   3          //
   4          #include"12864.h"
   5          #include"delay.h"
   6          #include"spi.h"
   7          //==================display a piture of 128*64 dots================
   8          //==================display a piture of 128*64 dots================
   9          u8 code ascii_table_8x16[95][16]={
  10          /*-- ÎÄ×Ö: --*/
  11          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  12          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  13          /*-- ÎÄ×Ö: ! --*/
  14          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  15          0x00,0x00,0x00,0xF8,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x30,0x00,0x00,0x00,
  16          /*-- ÎÄ×Ö: " --*/
  17          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  18          0x00,0x10,0x0C,0x06,0x10,0x0C,0x06,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  19          /*-- ÎÄ×Ö: # --*/
  20          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  21          0x40,0xC0,0x78,0x40,0xC0,0x78,0x40,0x00,0x04,0x3F,0x04,0x04,0x3F,0x04,0x04,0x00,
  22          /*-- ÎÄ×Ö: $ --*/
  23          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  24          0x00,0x70,0x88,0xFC,0x08,0x30,0x00,0x00,0x00,0x18,0x20,0xFF,0x21,0x1E,0x00,0x00,
  25          /*-- ÎÄ×Ö: % --*/
  26          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  27          0xF0,0x08,0xF0,0x00,0xE0,0x18,0x00,0x00,0x00,0x21,0x1C,0x03,0x1E,0x21,0x1E,0x00,
  28          /*-- ÎÄ×Ö: & --*/
  29          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  30          0x00,0xF0,0x08,0x88,0x70,0x00,0x00,0x00,0x1E,0x21,0x23,0x24,0x19,0x27,0x21,0x10,
  31          /*-- ÎÄ×Ö: ' --*/
  32          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  33          0x10,0x16,0x0E,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
  34          /*-- ÎÄ×Ö: ( --*/
  35          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  36          0x00,0x00,0x00,0xE0,0x18,0x04,0x02,0x00,0x00,0x00,0x00,0x07,0x18,0x20,0x40,0x00,
  37          /*-- ÎÄ×Ö: ) --*/
  38          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  39          0x00,0x02,0x04,0x18,0xE0,0x00,0x00,0x00,0x00,0x40,0x20,0x18,0x07,0x00,0x00,0x00,
  40          /*-- ÎÄ×Ö: * --*/
  41          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  42          0x40,0x40,0x80,0xF0,0x80,0x40,0x40,0x00,0x02,0x02,0x01,0x0F,0x01,0x02,0x02,0x00,
  43          /*-- ÎÄ×Ö: + --*/
  44          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  45          0x00,0x00,0x00,0xF0,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x1F,0x01,0x01,0x01,0x00,
  46          /*-- ÎÄ×Ö: , --*/
  47          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  48          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0xB0,0x70,0x00,0x00,0x00,0x00,0x00,
  49          /*-- ÎÄ×Ö: - --*/
  50          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  51          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
  52          /*-- ÎÄ×Ö: . --*/
  53          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  54          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,0x00,0x00,
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 2   

  55          /*-- ÎÄ×Ö: / --*/
  56          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  57          0x00,0x00,0x00,0x00,0x80,0x60,0x18,0x04,0x00,0x60,0x18,0x06,0x01,0x00,0x00,0x00,
  58          /*-- ÎÄ×Ö: 0 --*/
  59          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  60          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x0F,0x10,0x20,0x20,0x10,0x0F,0x00,
  61          /*-- ÎÄ×Ö: 1 --*/
  62          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  63          0x00,0x10,0x10,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
  64          /*-- ÎÄ×Ö: 2 --*/
  65          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  66          0x00,0x70,0x08,0x08,0x08,0x88,0x70,0x00,0x00,0x30,0x28,0x24,0x22,0x21,0x30,0x00,
  67          /*-- ÎÄ×Ö: 3 --*/
  68          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  69          0x00,0x30,0x08,0x88,0x88,0x48,0x30,0x00,0x00,0x18,0x20,0x20,0x20,0x11,0x0E,0x00,
  70          /*-- ÎÄ×Ö: 4 --*/
  71          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  72          0x00,0x00,0xC0,0x20,0x10,0xF8,0x00,0x00,0x00,0x07,0x04,0x24,0x24,0x3F,0x24,0x00,
  73          /*-- ÎÄ×Ö: 5 --*/
  74          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  75          0x00,0xF8,0x08,0x88,0x88,0x08,0x08,0x00,0x00,0x19,0x21,0x20,0x20,0x11,0x0E,0x00,
  76          /*-- ÎÄ×Ö: 6 --*/
  77          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  78          0x00,0xE0,0x10,0x88,0x88,0x18,0x00,0x00,0x00,0x0F,0x11,0x20,0x20,0x11,0x0E,0x00,
  79          /*-- ÎÄ×Ö: 7 --*/
  80          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  81          0x00,0x38,0x08,0x08,0xC8,0x38,0x08,0x00,0x00,0x00,0x00,0x3F,0x00,0x00,0x00,0x00,
  82          /*-- ÎÄ×Ö: 8 --*/
  83          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  84          0x00,0x70,0x88,0x08,0x08,0x88,0x70,0x00,0x00,0x1C,0x22,0x21,0x21,0x22,0x1C,0x00,
  85          /*-- ÎÄ×Ö: 9 --*/
  86          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  87          0x00,0xE0,0x10,0x08,0x08,0x10,0xE0,0x00,0x00,0x00,0x31,0x22,0x22,0x11,0x0F,0x00,
  88          /*-- ÎÄ×Ö: : --*/
  89          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  90          0x00,0x00,0x00,0xC0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x30,0x30,0x00,0x00,0x00,
  91          /*-- ÎÄ×Ö: ; --*/
  92          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  93          0x00,0x00,0x00,0x80,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x60,0x00,0x00,0x00,0x00,
  94          /*-- ÎÄ×Ö: < --*/
  95          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  96          0x00,0x00,0x80,0x40,0x20,0x10,0x08,0x00,0x00,0x01,0x02,0x04,0x08,0x10,0x20,0x00,
  97          /*-- ÎÄ×Ö: = --*/
  98          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
  99          0x40,0x40,0x40,0x40,0x40,0x40,0x40,0x00,0x04,0x04,0x04,0x04,0x04,0x04,0x04,0x00,
 100          /*-- ÎÄ×Ö: > --*/
 101          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 102          0x00,0x08,0x10,0x20,0x40,0x80,0x00,0x00,0x00,0x20,0x10,0x08,0x04,0x02,0x01,0x00,
 103          /*-- ÎÄ×Ö: ? --*/
 104          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 105          0x00,0x70,0x48,0x08,0x08,0x08,0xF0,0x00,0x00,0x00,0x00,0x30,0x36,0x01,0x00,0x00,
 106          /*-- ÎÄ×Ö: @ --*/
 107          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 108          0xC0,0x30,0xC8,0x28,0xE8,0x10,0xE0,0x00,0x07,0x18,0x27,0x24,0x23,0x14,0x0B,0x00,
 109          /*-- ÎÄ×Ö: A --*/
 110          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 111          0x00,0x00,0xC0,0x38,0xE0,0x00,0x00,0x00,0x20,0x3C,0x23,0x02,0x02,0x27,0x38,0x20,
 112          /*-- ÎÄ×Ö: B --*/
 113          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 114          0x08,0xF8,0x88,0x88,0x88,0x70,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x11,0x0E,0x00,
 115          /*-- ÎÄ×Ö: C --*/
 116          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 3   

 117          0xC0,0x30,0x08,0x08,0x08,0x08,0x38,0x00,0x07,0x18,0x20,0x20,0x20,0x10,0x08,0x00,
 118          /*-- ÎÄ×Ö: D --*/
 119          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 120          0x08,0xF8,0x08,0x08,0x08,0x10,0xE0,0x00,0x20,0x3F,0x20,0x20,0x20,0x10,0x0F,0x00,
 121          /*-- ÎÄ×Ö: E --*/
 122          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 123          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x20,0x23,0x20,0x18,0x00,
 124          /*-- ÎÄ×Ö: F --*/
 125          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 126          0x08,0xF8,0x88,0x88,0xE8,0x08,0x10,0x00,0x20,0x3F,0x20,0x00,0x03,0x00,0x00,0x00,
 127          /*-- ÎÄ×Ö: G --*/
 128          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 129          0xC0,0x30,0x08,0x08,0x08,0x38,0x00,0x00,0x07,0x18,0x20,0x20,0x22,0x1E,0x02,0x00,
 130          /*-- ÎÄ×Ö: H --*/
 131          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 132          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x20,0x3F,0x21,0x01,0x01,0x21,0x3F,0x20,
 133          /*-- ÎÄ×Ö: I --*/
 134          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 135          0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 136          /*-- ÎÄ×Ö: J --*/
 137          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 138          0x00,0x00,0x08,0x08,0xF8,0x08,0x08,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,0x00,
 139          /*-- ÎÄ×Ö: K --*/
 140          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 141          0x08,0xF8,0x88,0xC0,0x28,0x18,0x08,0x00,0x20,0x3F,0x20,0x01,0x26,0x38,0x20,0x00,
 142          /*-- ÎÄ×Ö: L --*/
 143          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 144          0x08,0xF8,0x08,0x00,0x00,0x00,0x00,0x00,0x20,0x3F,0x20,0x20,0x20,0x20,0x30,0x00,
 145          /*-- ÎÄ×Ö: M --*/
 146          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 147          0x08,0xF8,0xF8,0x00,0xF8,0xF8,0x08,0x00,0x20,0x3F,0x00,0x3F,0x00,0x3F,0x20,0x00,
 148          /*-- ÎÄ×Ö: N --*/
 149          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 150          0x08,0xF8,0x30,0xC0,0x00,0x08,0xF8,0x08,0x20,0x3F,0x20,0x00,0x07,0x18,0x3F,0x00,
 151          /*-- ÎÄ×Ö: O --*/
 152          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 153          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x10,0x20,0x20,0x20,0x10,0x0F,0x00,
 154          /*-- ÎÄ×Ö: P --*/
 155          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 156          0x08,0xF8,0x08,0x08,0x08,0x08,0xF0,0x00,0x20,0x3F,0x21,0x01,0x01,0x01,0x00,0x00,
 157          /*-- ÎÄ×Ö: Q --*/
 158          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 159          0xE0,0x10,0x08,0x08,0x08,0x10,0xE0,0x00,0x0F,0x18,0x24,0x24,0x38,0x50,0x4F,0x00,
 160          /*-- ÎÄ×Ö: R --*/
 161          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 162          0x08,0xF8,0x88,0x88,0x88,0x88,0x70,0x00,0x20,0x3F,0x20,0x00,0x03,0x0C,0x30,0x20,
 163          /*-- ÎÄ×Ö: S --*/
 164          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 165          0x00,0x70,0x88,0x08,0x08,0x08,0x38,0x00,0x00,0x38,0x20,0x21,0x21,0x22,0x1C,0x00,
 166          /*-- ÎÄ×Ö: T --*/
 167          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 168          0x18,0x08,0x08,0xF8,0x08,0x08,0x18,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 169          /*-- ÎÄ×Ö: U --*/
 170          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 171          0x08,0xF8,0x08,0x00,0x00,0x08,0xF8,0x08,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 172          /*-- ÎÄ×Ö: V --*/
 173          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 174          0x08,0x78,0x88,0x00,0x00,0xC8,0x38,0x08,0x00,0x00,0x07,0x38,0x0E,0x01,0x00,0x00,
 175          /*-- ÎÄ×Ö: W --*/
 176          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 177          0xF8,0x08,0x00,0xF8,0x00,0x08,0xF8,0x00,0x03,0x3C,0x07,0x00,0x07,0x3C,0x03,0x00,
 178          /*-- ÎÄ×Ö: X --*/
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 4   

 179          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 180          0x08,0x18,0x68,0x80,0x80,0x68,0x18,0x08,0x20,0x30,0x2C,0x03,0x03,0x2C,0x30,0x20,
 181          /*-- ÎÄ×Ö: Y --*/
 182          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 183          0x08,0x38,0xC8,0x00,0xC8,0x38,0x08,0x00,0x00,0x00,0x20,0x3F,0x20,0x00,0x00,0x00,
 184          /*-- ÎÄ×Ö: Z --*/
 185          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 186          0x10,0x08,0x08,0x08,0xC8,0x38,0x08,0x00,0x20,0x38,0x26,0x21,0x20,0x20,0x18,0x00,
 187          /*-- ÎÄ×Ö: [ --*/
 188          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 189          0x00,0x00,0x00,0xFE,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x7F,0x40,0x40,0x40,0x00,
 190          /*-- ÎÄ×Ö: \ --*/
 191          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 192          0x00,0x0C,0x30,0xC0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x01,0x06,0x38,0xC0,0x00,
 193          /*-- ÎÄ×Ö: ] --*/
 194          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 195          0x00,0x02,0x02,0x02,0xFE,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x7F,0x00,0x00,0x00,
 196          /*-- ÎÄ×Ö: ^ --*/
 197          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 198          0x00,0x00,0x04,0x02,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 199          /*-- ÎÄ×Ö: _ --*/
 200          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 201          0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
 202          /*-- ÎÄ×Ö: ` --*/
 203          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 204          0x00,0x02,0x02,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
 205          /*-- ÎÄ×Ö: a --*/
 206          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 207          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x19,0x24,0x22,0x22,0x22,0x3F,0x20,
 208          /*-- ÎÄ×Ö: b --*/
 209          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 210          0x08,0xF8,0x00,0x80,0x80,0x00,0x00,0x00,0x00,0x3F,0x11,0x20,0x20,0x11,0x0E,0x00,
 211          /*-- ÎÄ×Ö: c --*/
 212          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 213          0x00,0x00,0x00,0x80,0x80,0x80,0x00,0x00,0x00,0x0E,0x11,0x20,0x20,0x20,0x11,0x00,
 214          /*-- ÎÄ×Ö: d --*/
 215          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 216          0x00,0x00,0x00,0x80,0x80,0x88,0xF8,0x00,0x00,0x0E,0x11,0x20,0x20,0x10,0x3F,0x20,
 217          /*-- ÎÄ×Ö: e --*/
 218          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 219          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x22,0x22,0x22,0x22,0x13,0x00,
 220          /*-- ÎÄ×Ö: f --*/
 221          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 222          0x00,0x80,0x80,0xF0,0x88,0x88,0x88,0x18,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 223          /*-- ÎÄ×Ö: g --*/
 224          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 225          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x6B,0x94,0x94,0x94,0x93,0x60,0x00,
 226          /*-- ÎÄ×Ö: h --*/
 227          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 228          0x08,0xF8,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 229          /*-- ÎÄ×Ö: i --*/
 230          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 231          0x00,0x80,0x98,0x98,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
 232          /*-- ÎÄ×Ö: j --*/
 233          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 234          0x00,0x00,0x00,0x80,0x98,0x98,0x00,0x00,0x00,0xC0,0x80,0x80,0x80,0x7F,0x00,0x00,
 235          /*-- ÎÄ×Ö: k --*/
 236          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 237          0x08,0xF8,0x00,0x00,0x80,0x80,0x80,0x00,0x20,0x3F,0x24,0x02,0x2D,0x30,0x20,0x00,
 238          /*-- ÎÄ×Ö: l --*/
 239          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 240          0x00,0x08,0x08,0xF8,0x00,0x00,0x00,0x00,0x00,0x20,0x20,0x3F,0x20,0x20,0x00,0x00,
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 5   

 241          /*-- ÎÄ×Ö: m --*/
 242          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 243          0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x20,0x3F,0x20,0x00,0x3F,0x20,0x00,0x3F,
 244          /*-- ÎÄ×Ö: n --*/
 245          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 246          0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x3F,0x21,0x00,0x00,0x20,0x3F,0x20,
 247          /*-- ÎÄ×Ö: o --*/
 248          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 249          0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x00,0x1F,0x20,0x20,0x20,0x20,0x1F,0x00,
 250          /*-- ÎÄ×Ö: p --*/
 251          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 252          0x80,0x80,0x00,0x80,0x80,0x00,0x00,0x00,0x80,0xFF,0xA1,0x20,0x20,0x11,0x0E,0x00,
 253          /*-- ÎÄ×Ö: q --*/
 254          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 255          0x00,0x00,0x00,0x80,0x80,0x80,0x80,0x00,0x00,0x0E,0x11,0x20,0x20,0xA0,0xFF,0x80,
 256          /*-- ÎÄ×Ö: r --*/
 257          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 258          0x80,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x20,0x20,0x3F,0x21,0x20,0x00,0x01,0x00,
 259          /*-- ÎÄ×Ö: s --*/
 260          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 261          0x00,0x00,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x33,0x24,0x24,0x24,0x24,0x19,0x00,
 262          /*-- ÎÄ×Ö: t --*/
 263          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 264          0x00,0x80,0x80,0xE0,0x80,0x80,0x00,0x00,0x00,0x00,0x00,0x1F,0x20,0x20,0x00,0x00,
 265          /*-- ÎÄ×Ö: u --*/
 266          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 267          0x80,0x80,0x00,0x00,0x00,0x80,0x80,0x00,0x00,0x1F,0x20,0x20,0x20,0x10,0x3F,0x20,
 268          /*-- ÎÄ×Ö: v --*/
 269          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 270          0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x00,0x01,0x0E,0x30,0x08,0x06,0x01,0x00,
 271          /*-- ÎÄ×Ö: w --*/
 272          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 273          0x80,0x80,0x00,0x80,0x00,0x80,0x80,0x80,0x0F,0x30,0x0C,0x03,0x0C,0x30,0x0F,0x00,
 274          /*-- ÎÄ×Ö: x --*/
 275          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 276          0x00,0x80,0x80,0x00,0x80,0x80,0x80,0x00,0x00,0x20,0x31,0x2E,0x0E,0x31,0x20,0x00,
 277          /*-- ÎÄ×Ö: y --*/
 278          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 279          0x80,0x80,0x80,0x00,0x00,0x80,0x80,0x80,0x80,0x81,0x8E,0x70,0x18,0x06,0x01,0x00,
 280          /*-- ÎÄ×Ö: z --*/
 281          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 282          0x00,0x80,0x80,0x80,0x80,0x80,0x80,0x00,0x00,0x21,0x30,0x2C,0x22,0x21,0x30,0x00,
 283          /*-- ÎÄ×Ö: { --*/
 284          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 285          0x00,0x00,0x00,0x00,0x80,0x7C,0x02,0x02,0x00,0x00,0x00,0x00,0x00,0x3F,0x40,0x40,
 286          /*-- ÎÄ×Ö: | --*/
 287          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 288          0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0x00,0x00,0x00,
 289          /*-- ÎÄ×Ö: } --*/
 290          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 291          0x00,0x02,0x02,0x7C,0x80,0x00,0x00,0x00,0x00,0x40,0x40,0x3F,0x00,0x00,0x00,0x00,
 292          /*-- ÎÄ×Ö: ~ --*/
 293          /*-- Comic Sans MS12; ´Ë×ÖÌåÏÂ¶ÔÓ¦µÄµãÕóÎª£º¿íx ¸ß=8x16 --*/
 294          0x00,0x06,0x01,0x01,0x02,0x02,0x04,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
 295          };
 296          /*ÏÔÊ¾32x32 µãÕóÍ¼Ïñ¡¢ºº×Ö¡¢ÉúÆ§×Ö»ò32x32 µãÕóµÄÆäËûÍ¼±ê*/
 297          void display_graphic_32x32(u8 page,u8 column,u8 *dp)
 298          {
 299   1                      unsigned char i,j;
 300   1                      lcd_select;
 301   1                      for(j=0;j<4;j++)
 302   1                      {               
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 6   

 303   2                              lcd_address(page+j,column);
 304   2                              for (i=0;i<31;i++)
 305   2                              {
 306   3                                      transfer_data(*dp);
 307   3                                       //Ğ´Êı¾İµ½LCD,Ã¿Ğ´ÍêÒ»¸ö8 Î»µÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 308   3                                      dp++;
 309   3                              }
 310   2                      }
 311   1                      lcd_unselect;
 312   1      }
 313          void lcd_address(u8 page,u8 column)
 314          {
 315   1                      lcd_select;
 316   1                      column=column-1; //ÎÒÃÇÆ½³£ËùËµµÄµÚ1 ÁĞ£¬ÔÚLCD Çı¶¯IC ÀïÊÇµÚ0 ÁĞ¡£ËùÒÔÔÚÕâÀï¼õÈ¥1.
 317   1                      page=page-1;
 318   1                      transfer_command(0xb0+page); //ÉèÖÃÒ³µØÖ·¡£Ã¿Ò³ÊÇ8 ĞĞ¡£Ò»¸ö»­ÃæµÄ64 ĞĞ±»·Ö³É8 ¸öÒ³¡£ÎÒÃÇÆ½³£ËùËµµÄµÚ1 Ò³
             -£¬ÔÚLCD Çı¶¯IC ÀïÊÇµÚ0 Ò³£¬ËùÒÔÔÚÕâÀï¼õÈ¥1*/
 319   1                      transfer_command(((column>>4)&0x0f)+0x10); //ÉèÖÃÁĞµØÖ·µÄ¸ß4 Î»
 320   1                      transfer_command(column&0x0f); //ÉèÖÃÁĞµØÖ·µÄµÍ4 Î»
 321   1      }
 322          /*Ğ´Ö¸Áîµ½LCD Ä£¿é*/
 323          
 324          /*void transfer_command(u8 data1)
 325          {
 326                    lcd_select ;
 327                    lcd_command;//lcdÑ¡Ôñ·¢ËÍÃüÁî
 328                          digitalWrite(sclkpin,LOW);      //¼Ó1¸öÎªµÍµÄsclk
 329                          shiftOut(sidpin, sclkpin, MSBFIRST,data1);
 330          }*/
 331          void transfer_command(u8 data1)
 332          {
 333   1                lcd_select ;
 334   1                lcd_command;//lcdÑ¡Ôñ·¢ËÍÃüÁî
 335   1                      SPItransfer(data1);
 336   1      }
 337          
 338          /*Ğ´Êı¾İµ½LCDÄ£¿é*/
 339          /*void transfer_data(u8 data1)
 340          {
 341                  lcd_select;
 342                  lcd_data;//lcdÑ¡Ôñ·¢ËÍÊı¾İ
 343                  digitalWrite(sclkpin,LOW);      //¼Ó1¸öÎªµÍµÄsclk
 344                  shiftOut(sidpin, sclkpin, MSBFIRST,data1);
 345          }*/
 346          void transfer_data(u8 data1)
 347          {
 348   1              lcd_select;
 349   1              lcd_data;//lcdÑ¡Ôñ·¢ËÍÊı¾İ
 350   1              SPItransfer(data1);
 351   1      }
 352          /*Òº¾§³õÊ¼»¯*/
 353          void initial_lcd()
 354          {
 355   1      
 356   1                      lcd_select;     
 357   1                      lcd_rest;         /*µÍµçÆ½¸´Î»*/
 358   1                      delay_ms(100);
 359   1                      lcd_normal;/*¸´Î»Íê±Ï*/
 360   1                      delay_ms(20);
 361   1                      transfer_command(0xe2); /*Èí¸´Î»*/
 362   1                      delay_ms(5);
 363   1                      transfer_command(0x2c); /*ÉıÑ¹²½¾Û1*/
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 7   

 364   1                      delay_ms(5);
 365   1                      transfer_command(0x2e); /*ÉıÑ¹²½¾Û2*/
 366   1                      delay_ms(5);
 367   1                      transfer_command(0x2f); /*ÉıÑ¹²½¾Û3*/
 368   1                      delay_ms(5);
 369   1                      transfer_command(0x23); /*´Öµ÷¶Ô±È¶È£¬¿ÉÉèÖÃ·¶Î§0x20¡«0x27*/
 370   1                      transfer_command(0x81); /*Î¢µ÷¶Ô±È¶È*/
 371   1                      transfer_command(0x26); /*0x1a,Î¢µ÷¶Ô±È¶ÈµÄÖµ£¬¿ÉÉèÖÃ·¶Î§0x00¡«0x3f*/
 372   1                      transfer_command(0xa2); /*1/9 Æ«Ñ¹±È£¨bias£©*/
 373   1                      transfer_command(0xc8); /*ĞĞÉ¨ÃèË³Ğò£º´ÓÉÏµ½ÏÂ*/
 374   1                      transfer_command(0xa0); /*ÁĞÉ¨ÃèË³Ğò£º´Ó×óµ½ÓÒ*/
 375   1                      transfer_command(0x40); /*ÆğÊ¼ĞĞ£ºµÚÒ»ĞĞ¿ªÊ¼*/
 376   1                      transfer_command(0xaf); /*¿ªÏÔÊ¾*/
 377   1                      lcd_unselect;
 378   1      }
 379          /*È«ÆÁÇåÆÁ*/
 380          void clear_screen()
 381          {
 382   1                      unsigned char i,j;
 383   1                      lcd_select;
 384   1                      for(i=0;i<9;i++)
 385   1                      {
 386   2                              lcd_address(i+1,1);
 387   2                      
 388   2                              for(j=0;j<132;j++)
 389   2                              {
 390   3                                      transfer_data(0x00);
 391   3                              }
 392   2                      }
 393   1                      lcd_unselect;
 394   1      }
 395          /*È«ÆÁÏÔÊ¾*/
 396          void full_display()
 397          {
 398   1                      int i,j;
 399   1                      for(i=0;i<8;i++)
 400   1                      {
 401   2                              lcd_select;
 402   2                              lcd_address(i+1,0);
 403   2                              for(j=0;j<128;j++)
 404   2                              {
 405   3                                      transfer_data(0xff);
 406   3                              }
 407   2                      }
 408   1      }
 409          /*ÏÔÊ¾16x16 µãÕóÍ¼Ïñ¡¢ºº×Ö¡¢ÉúÆ§×Ö»ò16x16 µãÕóµÄÆäËûÍ¼±ê*/
 410          void display_graphic_16x16(u8 page,u8 column,u8 *dp)
 411          {
 412   1                      u8 i,j;
 413   1                      lcd_select;
 414   1                      for(j=0;j<2;j++)
 415   1                      {
 416   2      
 417   2                              lcd_address(page+j,column);
 418   2                              for (i=0;i<16;i++)
 419   2                              {
 420   3                                      transfer_data(*dp); //Ğ´Êı¾İµ½LCD,Ã¿Ğ´ÍêÒ»¸ö8 Î»µÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 421   3                                      dp++;
 422   3                              }
 423   2                      }
 424   1                      lcd_unselect;
 425   1      }
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 8   

 426          
 427          
 428          /*ÏÔÊ¾8x16 µãÕóÍ¼Ïñ¡¢ASCII, »ò8x16 µãÕóµÄ×ÔÔì×Ö·û¡¢ÆäËûÍ¼±ê*/
 429          void display_graphic_8x16(u8 page,u8 column,u8 *dp)
 430          {
 431   1              u8 i,j;
 432   1              lcd_select;
 433   1              for(j=0;j<2;j++)
 434   1              {
 435   2      
 436   2                      lcd_address(page+j,column);
 437   2              for (i=0;i<8;i++)
 438   2              {
 439   3                      transfer_data(*dp); //Ğ´Êı¾İµ½LCD,Ã¿Ğ´ÍêÒ»¸ö8 Î»µÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 440   3                      dp++;
 441   3              }
 442   2      }
 443   1              lcd_unselect;
 444   1      }
 445          /*ÏÔÊ¾8x16 µãÕóÍ¼Ïñ¡¢ASCII, »ò8x16 µãÕóµÄ×ÔÔì×Ö·û¡¢ÆäËûÍ¼±ê*/
 446          //Îª1ÔòÎªºÚµãã
 447          
 448          
 449          
 450          void display_string_8x16(u16 page,u16 column,u8 *text)
 451          {       
 452   1              u16 i=0,j,k,n;
 453   1              lcd_select;
 454   1              while(text[i]>0x00)
 455   1              {
 456   2              if((text[i]>=0x20)&&(text[i]<=0x7e))
 457   2                      {
 458   3                              j=text[i]-0x20;
 459   3                              for(n=0;n<2;n++)
 460   3                              {
 461   4                                      lcd_address(page+n,column);
 462   4                                      for(k=0;k<8;k++)
 463   4                                      {
 464   5                                              transfer_data(ascii_table_8x16[j][k+8*n]);//ÏÔÊ¾5x7 µÄASCII ×Öµ½LCD ÉÏ£¬y ÎªÒ³µØÖ·£¬x ÎªÁĞµØÖ·£¬×îºóÎ
             -ªÊı¾İ
 465   5                                      }
 466   4                              }
 467   3                              i++;
 468   3                              column+=8;
 469   3                      }
 470   2              else
 471   2              i++;
 472   2              }
 473   1      }
 474          void display_single_8x16(u16 page,u16 column,u8 *text)
 475          {       
 476   1              u16 i=0,j,k,n;
 477   1              lcd_select;
 478   1              if((text[i]>=0x20)&&(text[i]<=0x7e))
 479   1                      {
 480   2                              j=text[i]-0x20;
 481   2                              for(n=0;n<2;n++)
 482   2                              {
 483   3                                      lcd_address(page+n,column);
 484   3                                      for(k=0;k<8;k++)
 485   3                                      {
 486   4                                              transfer_data(ascii_table_8x16[j][k+8*n]);//ÏÔÊ¾5x7 µÄASCII ×Öµ½LCD ÉÏ£¬y ÎªÒ³µØÖ·£¬x ÎªÁĞµØÖ·£¬×îºóÎ
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 9   

             -ªÊı¾İ
 487   4                                      }
 488   3                              }
 489   2                      }
 490   1      }
 491          /*ÒÔÏÂÎª´ø×Ö¿âµÄ³ÌĞò*/
 492          //ËÍÖ¸Áîµ½×Ö¿âIC
 493          void send_command_to_ROM(u8 datu)
 494          {
 495   1              u8 i;
 496   1              for(i=0;i<8;i++ )
 497   1              {
 498   2                      Rom_SCK=0;
 499   2                      delay_us(10);
 500   2                      if(datu&0x80)Rom_IN = 1;
 501   2                      else Rom_IN = 0;
 502   2                      datu = datu<<1;
 503   2                      Rom_SCK=1;
 504   2                      delay_us(10);
 505   2              }
 506   1      }
 507          //´Ó×Ö¿âIC ÖĞÈ¡ºº×Ö»ò×Ö·ûÊı¾İ£¨1 ¸ö×Ö½Ú£©
 508          static u8 get_data_from_ROM( )
 509          {
 510   1                      u8 i;
 511   1                      u8 ret_data=0;
 512   1                      for(i=0;i<8;i++)
 513   1                      {
 514   2                              Rom_OUT=1;
 515   2                              Rom_SCK=0;
 516   2                              //delay_us(1);
 517   2                              ret_data=ret_data<<1;
 518   2                              if( Rom_OUT )
 519   2                              ret_data=ret_data+1;
 520   2                              else
 521   2                              ret_data=ret_data+0;
 522   2                              Rom_SCK=1;
 523   2                              //delay_us(1);
 524   2                      }
 525   1                      return(ret_data);
 526   1      }
 527          //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 528          void get_and_write_16x16(u32 fontaddr,u8 page,u8 column)
 529          {
 530   1                      u8 i,j,disp_data;
 531   1                      Rom_CS = 0;
 532   1                      send_command_to_ROM(0x03);
 533   1                      send_command_to_ROM((fontaddr&0xff0000)>>16); //µØÖ·µÄ¸ß8 Î»,¹²24 Î»
 534   1                      send_command_to_ROM((fontaddr&0xff00)>>8); //µØÖ·µÄÖĞ8 Î»,¹²24 Î»
 535   1                      send_command_to_ROM(fontaddr&0xff); //µØÖ·µÄµÍ8 Î»,¹²24 Î»
 536   1                      for(j=0;j<2;j++)
 537   1                      {
 538   2                              lcd_address(page+j,column);
 539   2                              for(i=0; i<16; i++ )
 540   2                              {
 541   3                                      disp_data=get_data_from_ROM();
 542   3                                      transfer_data(disp_data); //Ğ´Êı¾İµ½LCD,Ã¿Ğ´Íê1 ×Ö½ÚµÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 543   3                              }
 544   2                      }
 545   1                      Rom_CS=1;
 546   1      }
 547          //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 10  

 548          void get_and_write_8x16(u32 fontaddr,u8 page,u8 column)
 549          {
 550   1                      u8 i,j,disp_data;
 551   1                      Rom_CS = 0;
 552   1                      send_command_to_ROM(0x03);
 553   1                      send_command_to_ROM((fontaddr&0xff0000)>>16); //µØÖ·µÄ¸ß8 Î»,¹²24 Î»
 554   1                      send_command_to_ROM((fontaddr&0xff00)>>8); //µØÖ·µÄÖĞ8 Î»,¹²24 Î»
 555   1                      send_command_to_ROM(fontaddr&0xff); //µØÖ·µÄµÍ8 Î»,¹²24 Î»
 556   1                      for(j=0;j<2;j++)
 557   1                      {
 558   2                              lcd_address(page+j,column);
 559   2                              for(i=0; i<8; i++ )
 560   2                              {
 561   3                                      disp_data=get_data_from_ROM();
 562   3                                      transfer_data(disp_data); //Ğ´Êı¾İµ½LCD,Ã¿Ğ´Íê1 ×Ö½ÚµÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 563   3                              }
 564   2                      }
 565   1                      Rom_CS=1;
 566   1      }
 567          //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 568          void get_and_write_5x8(u32 fontaddr,u8 page,u8 column)
 569          {
 570   1                      u8 i,disp_data;
 571   1                      Rom_CS = 0;
 572   1                      send_command_to_ROM(0x03);
 573   1                      send_command_to_ROM((fontaddr&0xff0000)>>16); //µØÖ·µÄ¸ß8 Î»,¹²24 Î»
 574   1                      send_command_to_ROM((fontaddr&0xff00)>>8); //µØÖ·µÄÖĞ8 Î»,¹²24 Î»
 575   1                      send_command_to_ROM(fontaddr&0xff); //µØÖ·µÄµÍ8 Î»,¹²24 Î»
 576   1                      lcd_address(page,column);
 577   1                      for(i=0; i<5; i++ )
 578   1                      {
 579   2                              disp_data=get_data_from_ROM();
 580   2                              transfer_data(disp_data); //Ğ´Êı¾İµ½LCD,Ã¿Ğ´Íê1 ×Ö½ÚµÄÊı¾İºóÁĞµØÖ·×Ô¶¯¼Ó1
 581   2                      }
 582   1                      Rom_CS=1;
 583   1      }
 584          //****************************************************************
 585                  u32 fontaddr=0;
 586          void display_GB2312_string(u8 page,u8 column,u8 *text)
 587          {
 588   1              u8 i= 0;
 589   1              while((text[i]>0x00))
 590   1              {
 591   2                      if(((text[i]>=0xb0) &&(text[i]<=0xf7))&&(text[i+1]>=0xa1))
 592   2                      {
 593   3      //¹ú±ê¼òÌå£¨GB2312£©ºº×ÖÔÚ×Ö¿âIC ÖĞµÄµØÖ·ÓÉÒÔÏÂ¹«Ê½À´¼ÆËã£º
 594   3      //Address = ((MSB - 0xB0) * 94 + (LSB - 0xA1)+ 846)*32+ BaseAdd;BaseAdd=0
 595   3      //ÓÉÓÚµ£ĞÄ8 Î»µ¥Æ¬»úÓĞ³Ë·¨Òç³öÎÊÌâ£¬ËùÒÔ·ÖÈı²¿È¡µØÖ·
 596   3                              fontaddr = (text[i]- 0xb0)*94;
 597   3                              fontaddr += (text[i+1]-0xa1)+846;
 598   3                              fontaddr = (u32)(fontaddr*32);
 599   3                              get_and_write_16x16(fontaddr,page,column); //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 600   3                              i+=2;
 601   3                              column+=16;
 602   3                      }
 603   2                      else if(((text[i]>=0xa1) &&(text[i]<=0xa3))&&(text[i+1]>=0xa1))
 604   2                      {
 605   3      //¹ú±ê¼òÌå£¨GB2312£©15x16 µãµÄ×Ö·ûÔÚ×Ö¿âIC ÖĞµÄµØÖ·ÓÉÒÔÏÂ¹«Ê½À´¼ÆËã£º
 606   3      //Address = ((MSB - 0xa1) * 94 + (LSB - 0xA1))*32+ BaseAdd;BaseAdd=0
 607   3      //ÓÉÓÚµ£ĞÄ8 Î»µ¥Æ¬»úÓĞ³Ë·¨Òç³öÎÊÌâ£¬ËùÒÔ·ÖÈı²¿È¡µØÖ·
 608   3                              fontaddr = (text[i]- 0xa1)*94;
 609   3                              fontaddr += (text[i+1]-0xa1);
C51 COMPILER V9.52.0.0   12864                                                             09/21/2015 00:52:50 PAGE 11  

 610   3                              fontaddr = (u32)(fontaddr*32);
 611   3                              get_and_write_16x16(fontaddr,page,column); //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 612   3                              i+=2;
 613   3                              column+=16;
 614   3                      }
 615   2                      else if((text[i]>=0x20) &&(text[i]<=0x7e))
 616   2                      {
 617   3                              fontaddr = (text[i]- 0x20);
 618   3                              fontaddr = (unsigned long)(fontaddr*16);
 619   3                              fontaddr = (unsigned long)(fontaddr+0x3cf80);
 620   3                              get_and_write_8x16(fontaddr,page,column); //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 621   3                              i+=1;
 622   3                              column+=8;
 623   3                      }
 624   2                      else
 625   2                      i++;
 626   2              }
 627   1      }
 628          void display_string_5x8(u8 page,u8 column,u8 *text)
 629          {
 630   1              unsigned char i= 0;
 631   1              while((text[i]>0x00))
 632   1              {
 633   2                      if((text[i]>=0x20) &&(text[i]<=0x7e))
 634   2                      {
 635   3                              fontaddr = (text[i]- 0x20);
 636   3                              fontaddr = (unsigned long)(fontaddr*8);
 637   3                              fontaddr = (unsigned long)(fontaddr+0x3bfc0);
 638   3                              get_and_write_5x8(fontaddr,page,column); //´ÓÖ¸¶¨µØÖ·¶Á³öÊı¾İĞ´µ½Òº¾§ÆÁÖ¸¶¨£¨page,column)×ù±êÖĞ
 639   3                              i+=1;
 640   3                              column+=6;
 641   3                      }
 642   2                      else
 643   2                      i++;
 644   2              }
 645   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   2541    ----
   CONSTANT SIZE    =   1520    ----
   XDATA SIZE       =      4     101
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
